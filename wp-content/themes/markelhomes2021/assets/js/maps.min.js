var zoom,icon,winW=window.innerWidth;winW<=576?(zoom=12,icon=.5):winW<=768?(zoom=12.5,icon=.75):(zoom=13.25,icon=.75),mapboxgl.accessToken="pk.eyJ1IjoiYnBkYXZpczgxIiwiYSI6ImNrcTQwbDR4NTByZGgycG56N3pkMDB1NGMifQ.5qgmUy3sOAsi5vEhcV3Rmg";var map=new mapboxgl.Map({container:"communityMap",style:"mapbox://styles/bpdavis81/ckrp3kz1jdsld17orqxzahw1y",zoom:11,center:[-105.129,40.068]}),nav=new mapboxgl.NavigationControl;map.addControl(nav,"bottom-left"),map.on("load",(function(){map.addSource("communities",{type:"vector",url:"mapbox://bpdavis81.ckrr8ga4n131t20lanhopp3vh-1yv28"}),map.addLayer({id:"communities",type:"symbol",source:"communities",layout:{visibility:"visible","icon-image":"map-pin","icon-size":icon,"icon-allow-overlap":!0},"source-layer":"Markel_Homes"})})),map.on("click",(function(o){var i=map.queryRenderedFeatures(o.point,{layers:["communities"]});if(i.length){var e=i[0],p=e.properties.title,a=e.properties.address,r=(e.properties.phone,e.properties.product),s=e.properties.footage,t=e.properties.bed,n=e.properties.bath,m=e.properties.pricing,c=e.properties.image,l='<div class="community-popup popup">';c&&(l+='<picture class="popup-image"><img src="'+c+'" class="img-fluid" alt="'+p+'" /></picture>'),l+='<div class="community-details"><h3 class="community-name">'+p+'</h2><p class="community-address">'+a+'</p><p class="community-info">'+r+"<br/>"+s+" Sq. Ft. <br />"+t+" Beds | "+n+" Baths<br/ >Priced From "+m+"</p></div>";new mapboxgl.Popup({offset:[0,25]}).setLngLat(e.geometry.coordinates).setHTML(l).addTo(map)}}));